<script>
  const categoryTabAll = document.querySelectorAll("[data-category-mm]");

  categoryTabAll.forEach((categoryTab) => {
    categoryTab.addEventListener("mouseenter", function (event) {
      const categoryValue = categoryTab.getAttribute("data-category-mm");
      //console.log(categoryValue);

      addActiveCategoryMM(categoryValue);

      // Find the matching tab element using the data-w-tab attribute
      const tabElement = document.querySelector(
        `[data-w-tab="${categoryValue}"]`
      );

      // If a matching tab is found, trigger a click on it
      if (tabElement) {
        tabElement.click();
      }
    });
  });

  document.addEventListener("click", function (event) {
    // Check if clicked element or its parent has the data-category attribute
    let categoryElement = event.target.hasAttribute("data-category-mm")
      ? event.target
      : event.target.closest("[data-category-mm]");

    if (categoryElement) {
      // Get the value of the data-category attribute
      const categoryValue = categoryElement.getAttribute("data-category-mm");
      //console.log(categoryValue);

      addActiveCategoryMM(categoryValue);

      // Find the matching tab element using the data-w-tab attribute
      const tabElement = document.querySelector(
        `[data-w-tab="${categoryValue}"]`
      );

      // If a matching tab is found, trigger a click on it
      if (tabElement) {
        tabElement.click();
      }

      // Extract text directly from the category element
      // const categoryText = categoryElement.textContent.trim();

      // // Find the element with .replace-text class
      // const replaceTextElement = document.querySelector(".replace-text");

      // // If found, replace its text content with the text extracted from data-category element
      // if (replaceTextElement) {
      //   replaceTextElement.textContent = categoryText;
      // }
    }
  });

  function addActiveCategoryMM(categoryValue) {
    const DEFAULT_CATEGORY = "Tab 1";

    const categoryElement = document.querySelector(
      `[data-category-mm="${categoryValue}"]`
    );

    if (categoryElement) {
      document
        .querySelector(`.active-category-mm`)
        ?.classList?.remove("active-category-mm");
      categoryElement?.classList?.add("active-category-mm");
    }

    if (categoryValue == null) {
      addActiveCategoryMM(DEFAULT_CATEGORY);
    }
  }

  window.addEventListener("load", function (event) {
    document.querySelector(`[data-category-mm="Tab 1"]`).click();
  });
</script>
